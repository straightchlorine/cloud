# Paperless-ngx environment variables

# Basic configuration
PAPERLESS_SECRET_KEY={{ paperless_secret_key }}
PAPERLESS_URL=https://{{ subdomain_paperless }}.{{ domain_name }}
PAPERLESS_TIME_ZONE={{ timezone | default('UTC') }}

# Admin user
PAPERLESS_ADMIN_USER={{ vault_paperless_admin_user | default('admin') }}
PAPERLESS_ADMIN_PASSWORD={{ paperless_admin_password }}

# Database configuration
PAPERLESS_DBENGINE=postgresql
PAPERLESS_DBHOST=paperless-db
PAPERLESS_DBNAME=paperless
PAPERLESS_DBUSER=paperless
PAPERLESS_DBPASS={{ paperless_db_password }}
PAPERLESS_DBPORT=5432

# Redis configuration
PAPERLESS_REDIS=redis://:{{ paperless_redis_password }}@paperless-redis:6379

# OCR and processing
PAPERLESS_OCR_LANGUAGE=eng+deu+fra+ita+spa
PAPERLESS_OCR_MODE=skip
PAPERLESS_OCR_SKIP_ARCHIVE_FILE=with_text
PAPERLESS_OCR_CLEAN=clean
PAPERLESS_OCR_DESKEW=true
PAPERLESS_OCR_ROTATE_PAGES=true
PAPERLESS_OCR_ROTATE_PAGES_THRESHOLD=12

# Consumer settings
PAPERLESS_CONSUMER_POLLING=10
PAPERLESS_CONSUMER_RECURSIVE=true
PAPERLESS_CONSUMER_SUBDIRS_AS_TAGS=true
PAPERLESS_CONSUMER_DELETE_DUPLICATES=true

# Tika and NLP
PAPERLESS_TIKA_ENABLED=true
PAPERLESS_TIKA_ENDPOINT=http://paperless-tika:9998
PAPERLESS_TIKA_GOTENBERG_ENDPOINT=http://paperless-gotenberg:3000

# Email settings (optional)
# PAPERLESS_EMAIL_HOST=
# PAPERLESS_EMAIL_PORT=587
# PAPERLESS_EMAIL_HOST_USER=
# PAPERLESS_EMAIL_HOST_PASSWORD=
# PAPERLESS_EMAIL_USE_TLS=true

# Additional settings
PAPERLESS_FILENAME_FORMAT={created_year}/{correspondent}/{title}
PAPERLESS_LOGGING_DIR=/usr/src/paperless/logs
PAPERLESS_DATA_DIR=/usr/src/paperless/data
PAPERLESS_MEDIA_ROOT=/usr/src/paperless/media
PAPERLESS_STATICDIR=/usr/src/paperless/static

# Security
PAPERLESS_ALLOWED_HOSTS={{ subdomain_paperless }}.{{ domain_name }},paperless-web
PAPERLESS_CORS_ALLOWED_HOSTS=https://{{ subdomain_paperless }}.{{ domain_name }}
PAPERLESS_FORCE_SCRIPT_NAME=/
PAPERLESS_STATIC_URL=/static/

# Performance
PAPERLESS_TASK_WORKERS=2
PAPERLESS_THREADS_PER_WORKER=1