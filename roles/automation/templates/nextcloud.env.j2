# NextCloud environment variables

# Database configuration
MYSQL_ROOT_PASSWORD={{ nextcloud_db_password }}
MYSQL_PASSWORD={{ nextcloud_db_password }}
MYSQL_DATABASE=nextcloud
MYSQL_USER=nextcloud
MYSQL_HOST=nextcloud-db

# NextCloud configuration
NEXTCLOUD_ADMIN_USER={{ vault_nextcloud_admin_user | default('admin') }}
NEXTCLOUD_ADMIN_PASSWORD={{ nextcloud_admin_password }}
NEXTCLOUD_TRUSTED_DOMAINS={{ subdomain_nextcloud }}.{{ domain_name }}
NEXTCLOUD_DATA_DIR=/var/www/html/data

# Redis configuration
REDIS_HOST=nextcloud-redis
REDIS_HOST_PASSWORD={{ vault_redis_password | default(nextcloud_db_password) }}

# Additional NextCloud settings
OVERWRITEPROTOCOL=https
OVERWRITEHOST={{ subdomain_nextcloud }}.{{ domain_name }}
OVERWRITECLIURL=https://{{ subdomain_nextcloud }}.{{ domain_name }}

# PHP configuration
PHP_MEMORY_LIMIT=1G
PHP_UPLOAD_LIMIT=10G